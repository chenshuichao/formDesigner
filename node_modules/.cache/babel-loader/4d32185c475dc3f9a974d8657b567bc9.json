{"remainingRequest":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js!/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue","mtime":1585649706952},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/.babelrc","mtime":1585050130090},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyoqCiAqIDEuMOeJiOacrAogKi8KaW1wb3J0IGRyYWdnYWJsZSBmcm9tICJ2dWVkcmFnZ2FibGUiOwppbXBvcnQgZm9ybUl0ZW1zIGZyb20gIi4vY3VzdG9tL2l0ZW1MaXN0IjsKaW1wb3J0IERlc2lnbmVyIGZyb20gIi4vRGVzaWduZXIiOwppbXBvcnQgeyBnZXRTaW1wbGVJZCB9IGZyb20gIi4vdXRpbHMvSWRHZW5lcmF0ZSI7CnZhciB0ZW1wQWN0aXZlRGF0YTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmYW5jeUZvcm1EZXNpZ25lciIsCiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsCiAgICBEZXNpZ25lcjogRGVzaWduZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtSXRlbXM6IGZvcm1JdGVtcywKICAgICAgZGVzaWduTGlzdDogW10sCiAgICAgIGFjdGl2ZURhdGE6IHt9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGFkZENvbXBvbmVudDogZnVuY3Rpb24gYWRkQ29tcG9uZW50KGVsZW1lbnQpIHt9LAogICAgY2xvbmVDb21wb25lbnQ6IGZ1bmN0aW9uIGNsb25lQ29tcG9uZW50KG9yaWdpbikgewogICAgICB2YXIgY2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9yaWdpbikpOwogICAgICBpZiAoIWNsb25lLmxheW91dCkgY2xvbmUubGF5b3V0ID0gJ2NvbEl0ZW0nOwoKICAgICAgaWYgKGNsb25lLmxheW91dCA9PT0gJ2NvbEl0ZW0nKSB7CiAgICAgICAgdmFyIHVJZCA9ICJmZF8iICsgZ2V0U2ltcGxlSWQoKTsKICAgICAgICBjbG9uZS5pZCA9IHVJZDsKICAgICAgICB0ZW1wQWN0aXZlRGF0YSA9IGNsb25lOwogICAgICB9IGVsc2UgaWYgKGNsb25lLmxheW91dCA9PT0gJ3Jvd0l0ZW0nKSB7CiAgICAgICAgdmFyIF91SWQgPSAicm93XyIgKyBnZXRTaW1wbGVJZCgpOwoKICAgICAgICBjbG9uZS5pZCA9IF91SWQ7CiAgICAgICAgdGVtcEFjdGl2ZURhdGEgPSBjbG9uZTsKICAgICAgfSAvL3RoaXMuJHJlZnMuZGVzaWduZXIuYWN0aXZlSXRlbSA9IHRlbXBBY3RpdmVEYXRhOwoKICAgIH0sCiAgICBvbkVuZDogZnVuY3Rpb24gb25FbmQob2JqKSB7CiAgICAgIGlmIChvYmouZnJvbSAhPT0gb2JqLnRvKSB7CiAgICAgICAgdGhpcy5hY3RpdmVEYXRhID0gdGVtcEFjdGl2ZURhdGE7CiAgICAgICAgdGhpcy4kcmVmcy5kZXNpZ25lci5hY3RpdmVJdGVtID0gdGhpcy5hY3RpdmVEYXRhOwoKICAgICAgICBpZiAob2JqLnRvLmNsYXNzTmFtZS5pbmRleE9mKCdyb3ctZHJhZycpIDwgMCkgewogICAgICAgICAgdGhpcy5kZXNpZ25MaXN0LnNwbGljZShvYmoubmV3SW5kZXgsIDAsIHRoaXMuYWN0aXZlRGF0YSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuZGVzaWduZXIuYWN0aXZlSXRlbSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["FancyFormDesigner.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;;;AAGA,OAAA,SAAA,MAAA,cAAA;AACA,OAAA,SAAA,MAAA,mBAAA;AACA,OAAA,QAAA,MAAA,YAAA;AACA,SAAA,WAAA,QAAA,oBAAA;AAEA,IAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,QAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,SADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,OAbA,qBAaA,CAEA,CAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,OADA,EACA,CAEA,CAHA;AAIA,IAAA,cAJA,0BAIA,MAJA,EAIA;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,CAAA;AACA,UAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,MAAA,GAAA,SAAA;;AACA,UAAA,KAAA,CAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,GAAA,GAAA,QAAA,WAAA,EAAA;AACA,QAAA,KAAA,CAAA,EAAA,GAAA,GAAA;AACA,QAAA,cAAA,GAAA,KAAA;AACA,OAJA,MAIA,IAAA,KAAA,CAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,IAAA,GAAA,SAAA,WAAA,EAAA;;AACA,QAAA,KAAA,CAAA,EAAA,GAAA,IAAA;AACA,QAAA,cAAA,GAAA,KAAA;AACA,OAXA,CAYA;;AACA,KAjBA;AAkBA,IAAA,KAlBA,iBAkBA,GAlBA,EAkBA;AACA,UAAA,GAAA,CAAA,IAAA,KAAA,GAAA,CAAA,EAAA,EAAA;AACA,aAAA,UAAA,GAAA,cAAA;AACA,aAAA,KAAA,CAAA,QAAA,CAAA,UAAA,GAAA,KAAA,UAAA;;AACA,YAAA,GAAA,CAAA,EAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,IAAA,CAAA,EAAA;AACA,eAAA,UAAA,CAAA,MAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA,EAAA,KAAA,UAAA;AACA;AACA,OANA,MAMA;AACA,aAAA,KAAA,CAAA,QAAA,CAAA,UAAA,GAAA,SAAA;AACA;AAEA;AA7BA;AAhBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"left-board\">\n      <div class=\"logo-wrapper\">\n        <div class=\"logo\">\n          Form designer\n        </div>\n      </div>\n      <el-scrollbar class=\"left-scrollbar\">\n        <!--左侧组件列表-->\n        <div class=\"components-list\">\n          <div class=\"components-title\">\n            常用组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"formItems\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @start=\"onStart\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in formItems\" :key=\"index\" class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                {{ element.name}}\n              </div>\n            </div>\n          </draggable>\n        </div>\n      </el-scrollbar>\n    </div>\n    <designer ref=\"designer\" :list=\"designList\" @clear=\"designList = []\" :activeData=\"activeData\"/>\n  </div>\n</template>\n<script>\n/**\n * 1.0版本\n */\nimport draggable from \"vuedraggable\";\nimport formItems from \"./custom/itemList\";\nimport Designer from \"./Designer\";\nimport {getSimpleId} from \"./utils/IdGenerate\";\n\nlet tempActiveData;\n\nexport default {\n  name:\"fancyFormDesigner\",\n  components:{\n    draggable\n    ,Designer\n  },\n  data() {\n    return {\n      formItems:formItems,\n      designList:[],\n      activeData:{}\n    }\n  },\n  mounted() {\n    \n  },\n  methods: {\n    addComponent(element){\n\n    },\n    cloneComponent(origin){\n      const clone = JSON.parse(JSON.stringify(origin))\n      if (!clone.layout) clone.layout = 'colItem'\n      if (clone.layout === 'colItem') {\n        let uId = \"fd_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }else if(clone.layout === 'rowItem'){\n        let uId = \"row_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }\n      //this.$refs.designer.activeItem = tempActiveData;\n    },\n    onEnd(obj){\n      if(obj.from !== obj.to){\n        this.activeData = tempActiveData;\n        this.$refs.designer.activeItem = this.activeData;\n        if(obj.to.className.indexOf('row-drag')<0){\n          this.designList.splice(obj.newIndex,0,this.activeData);\n        }\n      }else{\n        this.$refs.designer.activeItem = undefined;\n      }\n      \n    }\n  }\n}\n\n</script>\n<style scoped>\n@import \"./style/designer.css\";\n.container{\n  padding:0px\n}\n</style>"],"sourceRoot":"src/components"}]}