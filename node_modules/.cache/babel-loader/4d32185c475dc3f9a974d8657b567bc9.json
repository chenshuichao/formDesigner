{"remainingRequest":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js!/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue","mtime":1587901832750},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/.babelrc","mtime":1587901594661},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":1587901594804},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js","mtime":1587901594787},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":1587901594804},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js","mtime":1587901595491}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyoqCiAqIDEuMOeJiOacrAogKi8KaW1wb3J0IGRyYWdnYWJsZSBmcm9tICJ2dWVkcmFnZ2FibGUiOwppbXBvcnQgZm9ybUl0ZW1zIGZyb20gIi4vY3VzdG9tL2l0ZW1MaXN0IjsKaW1wb3J0IERlc2lnbmVyIGZyb20gIi4vRGVzaWduZXIiOwppbXBvcnQgSWNvbiBmcm9tICIuL2ljb24iOwppbXBvcnQgeyBnZXRTaW1wbGVJZCB9IGZyb20gIi4vdXRpbHMvSWRHZW5lcmF0ZSI7CnZhciB0ZW1wQWN0aXZlRGF0YTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmYW5jeUZvcm1EZXNpZ25lciIsCiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsCiAgICBEZXNpZ25lcjogRGVzaWduZXIsCiAgICBJY29uOiBJY29uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybUl0ZW1zOiBmb3JtSXRlbXMsCiAgICAgIGRlc2lnbkxpc3Q6IFtdLAogICAgICBhY3RpdmVEYXRhOiB7fQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBhZGRDb21wb25lbnQ6IGZ1bmN0aW9uIGFkZENvbXBvbmVudChlbGVtZW50KSB7fSwKICAgIGNsb25lQ29tcG9uZW50OiBmdW5jdGlvbiBjbG9uZUNvbXBvbmVudChvcmlnaW4pIHsKICAgICAgdmFyIGNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcmlnaW4pKTsKICAgICAgaWYgKCFjbG9uZS5sYXlvdXQpIGNsb25lLmxheW91dCA9ICdjb2xJdGVtJzsKCiAgICAgIGlmIChjbG9uZS5sYXlvdXQgPT09ICdjb2xJdGVtJykgewogICAgICAgIHZhciB1SWQgPSAiZmRfIiArIGdldFNpbXBsZUlkKCk7CiAgICAgICAgY2xvbmUuaWQgPSB1SWQ7CiAgICAgICAgdGVtcEFjdGl2ZURhdGEgPSBjbG9uZTsKICAgICAgfSBlbHNlIGlmIChjbG9uZS5sYXlvdXQgPT09ICdyb3dJdGVtJykgewogICAgICAgIHZhciBfdUlkID0gInJvd18iICsgZ2V0U2ltcGxlSWQoKTsKCiAgICAgICAgY2xvbmUuaWQgPSBfdUlkOwogICAgICAgIHRlbXBBY3RpdmVEYXRhID0gY2xvbmU7CiAgICAgIH0KCiAgICAgIHRoaXMuJHJlZnMuZGVzaWduZXIuYWN0aXZlSXRlbSA9IHRlbXBBY3RpdmVEYXRhOwogICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmRlc2lnbmVyLmFjdGl2ZUl0ZW0pOwogICAgfSwKICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIG9uU3RhcnQob2JqKSB7fSwKICAgIG9uRW5kOiBmdW5jdGlvbiBvbkVuZChvYmopIHsKICAgICAgaWYgKG9iai5mcm9tICE9PSBvYmoudG8pIHsKICAgICAgICB0aGlzLmFjdGl2ZURhdGEgPSB0ZW1wQWN0aXZlRGF0YTsKICAgICAgICB0aGlzLiRyZWZzLmRlc2lnbmVyLmFjdGl2ZUl0ZW0gPSB0aGlzLmFjdGl2ZURhdGE7CgogICAgICAgIGlmIChvYmoudG8uY2xhc3NOYW1lLmluZGV4T2YoJ3Jvdy1kcmFnJykgPCAwKSB7CiAgICAgICAgICB0aGlzLmRlc2lnbkxpc3Quc3BsaWNlKG9iai5uZXdJbmRleCwgMCwgdGhpcy5hY3RpdmVEYXRhKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5kZXNpZ25lci5hY3RpdmVJdGVtID0gdW5kZWZpbmVkOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["FancyFormDesigner.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;;;AAGA,OAAA,SAAA,MAAA,cAAA;AACA,OAAA,SAAA,MAAA,mBAAA;AACA,OAAA,QAAA,MAAA,YAAA;AACA,OAAA,IAAA,MAAA,QAAA;AACA,SAAA,WAAA,QAAA,oBAAA;AAEA,IAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,IAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,SADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAKA,GAbA;AAcA,EAAA,OAdA,qBAcA,CAEA,CAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,OADA,EACA,CAEA,CAHA;AAIA,IAAA,cAJA,0BAIA,MAJA,EAIA;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,CAAA;AACA,UAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,MAAA,GAAA,SAAA;;AACA,UAAA,KAAA,CAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,GAAA,GAAA,QAAA,WAAA,EAAA;AACA,QAAA,KAAA,CAAA,EAAA,GAAA,GAAA;AACA,QAAA,cAAA,GAAA,KAAA;AACA,OAJA,MAIA,IAAA,KAAA,CAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,IAAA,GAAA,SAAA,WAAA,EAAA;;AACA,QAAA,KAAA,CAAA,EAAA,GAAA,IAAA;AACA,QAAA,cAAA,GAAA,KAAA;AACA;;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,UAAA,GAAA,cAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,QAAA,CAAA,UAAA;AACA,KAlBA;AAmBA,IAAA,OAnBA,mBAmBA,GAnBA,EAmBA,CAEA,CArBA;AAsBA,IAAA,KAtBA,iBAsBA,GAtBA,EAsBA;AACA,UAAA,GAAA,CAAA,IAAA,KAAA,GAAA,CAAA,EAAA,EAAA;AACA,aAAA,UAAA,GAAA,cAAA;AACA,aAAA,KAAA,CAAA,QAAA,CAAA,UAAA,GAAA,KAAA,UAAA;;AACA,YAAA,GAAA,CAAA,EAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,IAAA,CAAA,EAAA;AACA,eAAA,UAAA,CAAA,MAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA,EAAA,KAAA,UAAA;AACA;AACA,OANA,MAMA;AACA,aAAA,KAAA,CAAA,QAAA,CAAA,UAAA,GAAA,SAAA;AACA;AAEA;AAjCA;AAjBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"left-board\">\n      <div class=\"logo-wrapper\">\n        <div class=\"logo\">\n          Form designer\n        </div>\n      </div>\n      <el-scrollbar class=\"left-scrollbar\">\n        <!--左侧组件列表-->\n        <div class=\"components-list\">\n          <div class=\"components-title\">\n            常用组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"formItems\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @start=\"onStart\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in formItems\" :key=\"index\" class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n               <icon :code=\"element.icon\" :text=\"element.name\"/>\n              </div>\n            </div>\n          </draggable>\n        </div>\n      </el-scrollbar>\n    </div>\n    <designer ref=\"designer\" :list=\"designList\" @clear=\"designList = []\" :activeData=\"activeData\"/>\n  </div>\n</template>\n<script>\n/**\n * 1.0版本\n */\nimport draggable from \"vuedraggable\";\nimport formItems from \"./custom/itemList\";\nimport Designer from \"./Designer\";\nimport Icon from \"./icon\";\nimport {getSimpleId} from \"./utils/IdGenerate\";\n\nlet tempActiveData;\n\nexport default {\n  name:\"fancyFormDesigner\",\n  components:{\n    draggable\n    ,Designer,\n    Icon\n  },\n  data() {\n    return {\n      formItems:formItems,\n      designList:[],\n      activeData:{}\n    }\n  },\n  mounted() {\n    \n  },\n  methods: {\n    addComponent(element){\n\n    },\n    cloneComponent(origin){\n      const clone = JSON.parse(JSON.stringify(origin))\n      if (!clone.layout) clone.layout = 'colItem'\n      if (clone.layout === 'colItem') {\n        let uId = \"fd_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }else if(clone.layout === 'rowItem'){\n        let uId = \"row_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }\n      this.$refs.designer.activeItem = tempActiveData;\n      console.log(this.$refs.designer.activeItem)\n    },\n    onStart(obj){\n      \n    },\n    onEnd(obj){\n      if(obj.from !== obj.to){\n        this.activeData = tempActiveData;\n        this.$refs.designer.activeItem = this.activeData;\n        if(obj.to.className.indexOf('row-drag')<0){\n          this.designList.splice(obj.newIndex,0,this.activeData);\n        }\n      }else{\n        this.$refs.designer.activeItem = undefined;\n      }\n      \n    }\n  }\n}\n\n</script>\n<style scoped>\n@import \"./style/designer.css\";\n.container{\n  padding:0px\n}\n</style>"],"sourceRoot":"src/components"}]}