{"remainingRequest":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue","mtime":1585667384802},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKgogKiAxLjDniYjmnKwKICovCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKaW1wb3J0IGZvcm1JdGVtcyBmcm9tICIuL2N1c3RvbS9pdGVtTGlzdCI7CmltcG9ydCBEZXNpZ25lciBmcm9tICIuL0Rlc2lnbmVyIjsKaW1wb3J0IHtnZXRTaW1wbGVJZH0gZnJvbSAiLi91dGlscy9JZEdlbmVyYXRlIjsKCmxldCB0ZW1wQWN0aXZlRGF0YTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiJmYW5jeUZvcm1EZXNpZ25lciIsCiAgY29tcG9uZW50czp7CiAgICBkcmFnZ2FibGUKICAgICxEZXNpZ25lcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1JdGVtczpmb3JtSXRlbXMsCiAgICAgIGRlc2lnbkxpc3Q6W10sCiAgICAgIGFjdGl2ZURhdGE6e30KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZENvbXBvbmVudChlbGVtZW50KXsKCiAgICB9LAogICAgY2xvbmVDb21wb25lbnQob3JpZ2luKXsKICAgICAgY29uc3QgY2xvbmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9yaWdpbikpCiAgICAgIGlmICghY2xvbmUubGF5b3V0KSBjbG9uZS5sYXlvdXQgPSAnY29sSXRlbScKICAgICAgaWYgKGNsb25lLmxheW91dCA9PT0gJ2NvbEl0ZW0nKSB7CiAgICAgICAgbGV0IHVJZCA9ICJmZF8iK2dldFNpbXBsZUlkKCk7CiAgICAgICAgY2xvbmUuaWQgPSB1SWQ7CiAgICAgICAgdGVtcEFjdGl2ZURhdGEgPSBjbG9uZTsKICAgICAgfWVsc2UgaWYoY2xvbmUubGF5b3V0ID09PSAncm93SXRlbScpewogICAgICAgIGxldCB1SWQgPSAicm93XyIrZ2V0U2ltcGxlSWQoKTsKICAgICAgICBjbG9uZS5pZCA9IHVJZDsKICAgICAgICB0ZW1wQWN0aXZlRGF0YSA9IGNsb25lOwogICAgICB9CiAgICAgIHRoaXMuJHJlZnMuZGVzaWduZXIuYWN0aXZlSXRlbSA9IHRlbXBBY3RpdmVEYXRhOwogICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmRlc2lnbmVyLmFjdGl2ZUl0ZW0pCiAgICB9LAogICAgb25TdGFydChvYmopewogICAgICAKICAgIH0sCiAgICBvbkVuZChvYmopewogICAgICBpZihvYmouZnJvbSAhPT0gb2JqLnRvKXsKICAgICAgICB0aGlzLmFjdGl2ZURhdGEgPSB0ZW1wQWN0aXZlRGF0YTsKICAgICAgICB0aGlzLiRyZWZzLmRlc2lnbmVyLmFjdGl2ZUl0ZW0gPSB0aGlzLmFjdGl2ZURhdGE7CiAgICAgICAgaWYob2JqLnRvLmNsYXNzTmFtZS5pbmRleE9mKCdyb3ctZHJhZycpPDApewogICAgICAgICAgdGhpcy5kZXNpZ25MaXN0LnNwbGljZShvYmoubmV3SW5kZXgsMCx0aGlzLmFjdGl2ZURhdGEpOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy4kcmVmcy5kZXNpZ25lci5hY3RpdmVJdGVtID0gdW5kZWZpbmVkOwogICAgICB9CiAgICAgIAogICAgfQogIH0KfQoK"},{"version":3,"sources":["FancyFormDesigner.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"FancyFormDesigner.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"left-board\">\n      <div class=\"logo-wrapper\">\n        <div class=\"logo\">\n          Form designer\n        </div>\n      </div>\n      <el-scrollbar class=\"left-scrollbar\">\n        <!--左侧组件列表-->\n        <div class=\"components-list\">\n          <div class=\"components-title\">\n            常用组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"formItems\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @start=\"onStart\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in formItems\" :key=\"index\" class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                {{ element.name}}\n              </div>\n            </div>\n          </draggable>\n        </div>\n      </el-scrollbar>\n    </div>\n    <designer ref=\"designer\" :list=\"designList\" @clear=\"designList = []\" :activeData=\"activeData\"/>\n  </div>\n</template>\n<script>\n/**\n * 1.0版本\n */\nimport draggable from \"vuedraggable\";\nimport formItems from \"./custom/itemList\";\nimport Designer from \"./Designer\";\nimport {getSimpleId} from \"./utils/IdGenerate\";\n\nlet tempActiveData;\n\nexport default {\n  name:\"fancyFormDesigner\",\n  components:{\n    draggable\n    ,Designer\n  },\n  data() {\n    return {\n      formItems:formItems,\n      designList:[],\n      activeData:{}\n    }\n  },\n  mounted() {\n    \n  },\n  methods: {\n    addComponent(element){\n\n    },\n    cloneComponent(origin){\n      const clone = JSON.parse(JSON.stringify(origin))\n      if (!clone.layout) clone.layout = 'colItem'\n      if (clone.layout === 'colItem') {\n        let uId = \"fd_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }else if(clone.layout === 'rowItem'){\n        let uId = \"row_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }\n      this.$refs.designer.activeItem = tempActiveData;\n      console.log(this.$refs.designer.activeItem)\n    },\n    onStart(obj){\n      \n    },\n    onEnd(obj){\n      if(obj.from !== obj.to){\n        this.activeData = tempActiveData;\n        this.$refs.designer.activeItem = this.activeData;\n        if(obj.to.className.indexOf('row-drag')<0){\n          this.designList.splice(obj.newIndex,0,this.activeData);\n        }\n      }else{\n        this.$refs.designer.activeItem = undefined;\n      }\n      \n    }\n  }\n}\n\n</script>\n<style scoped>\n@import \"./style/designer.css\";\n.container{\n  padding:0px\n}\n</style>"]}]}