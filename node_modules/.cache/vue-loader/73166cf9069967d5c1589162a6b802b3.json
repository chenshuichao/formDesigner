{"remainingRequest":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wison/dev/workspace1/front-end/formDesigner/src/components/FancyFormDesigner.vue","mtime":1587901832750},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":1587901594804},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js","mtime":1587901594787},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":1587901594804},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js","mtime":1587901595491}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKgogKiAxLjDniYjmnKwKICovCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKaW1wb3J0IGZvcm1JdGVtcyBmcm9tICIuL2N1c3RvbS9pdGVtTGlzdCI7CmltcG9ydCBEZXNpZ25lciBmcm9tICIuL0Rlc2lnbmVyIjsKaW1wb3J0IEljb24gZnJvbSAiLi9pY29uIjsKaW1wb3J0IHtnZXRTaW1wbGVJZH0gZnJvbSAiLi91dGlscy9JZEdlbmVyYXRlIjsKCmxldCB0ZW1wQWN0aXZlRGF0YTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiJmYW5jeUZvcm1EZXNpZ25lciIsCiAgY29tcG9uZW50czp7CiAgICBkcmFnZ2FibGUKICAgICxEZXNpZ25lciwKICAgIEljb24KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtSXRlbXM6Zm9ybUl0ZW1zLAogICAgICBkZXNpZ25MaXN0OltdLAogICAgICBhY3RpdmVEYXRhOnt9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgCiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRDb21wb25lbnQoZWxlbWVudCl7CgogICAgfSwKICAgIGNsb25lQ29tcG9uZW50KG9yaWdpbil7CiAgICAgIGNvbnN0IGNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcmlnaW4pKQogICAgICBpZiAoIWNsb25lLmxheW91dCkgY2xvbmUubGF5b3V0ID0gJ2NvbEl0ZW0nCiAgICAgIGlmIChjbG9uZS5sYXlvdXQgPT09ICdjb2xJdGVtJykgewogICAgICAgIGxldCB1SWQgPSAiZmRfIitnZXRTaW1wbGVJZCgpOwogICAgICAgIGNsb25lLmlkID0gdUlkOwogICAgICAgIHRlbXBBY3RpdmVEYXRhID0gY2xvbmU7CiAgICAgIH1lbHNlIGlmKGNsb25lLmxheW91dCA9PT0gJ3Jvd0l0ZW0nKXsKICAgICAgICBsZXQgdUlkID0gInJvd18iK2dldFNpbXBsZUlkKCk7CiAgICAgICAgY2xvbmUuaWQgPSB1SWQ7CiAgICAgICAgdGVtcEFjdGl2ZURhdGEgPSBjbG9uZTsKICAgICAgfQogICAgICB0aGlzLiRyZWZzLmRlc2lnbmVyLmFjdGl2ZUl0ZW0gPSB0ZW1wQWN0aXZlRGF0YTsKICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5kZXNpZ25lci5hY3RpdmVJdGVtKQogICAgfSwKICAgIG9uU3RhcnQob2JqKXsKICAgICAgCiAgICB9LAogICAgb25FbmQob2JqKXsKICAgICAgaWYob2JqLmZyb20gIT09IG9iai50byl7CiAgICAgICAgdGhpcy5hY3RpdmVEYXRhID0gdGVtcEFjdGl2ZURhdGE7CiAgICAgICAgdGhpcy4kcmVmcy5kZXNpZ25lci5hY3RpdmVJdGVtID0gdGhpcy5hY3RpdmVEYXRhOwogICAgICAgIGlmKG9iai50by5jbGFzc05hbWUuaW5kZXhPZigncm93LWRyYWcnKTwwKXsKICAgICAgICAgIHRoaXMuZGVzaWduTGlzdC5zcGxpY2Uob2JqLm5ld0luZGV4LDAsdGhpcy5hY3RpdmVEYXRhKTsKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuJHJlZnMuZGVzaWduZXIuYWN0aXZlSXRlbSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgICAKICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["FancyFormDesigner.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"FancyFormDesigner.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"left-board\">\n      <div class=\"logo-wrapper\">\n        <div class=\"logo\">\n          Form designer\n        </div>\n      </div>\n      <el-scrollbar class=\"left-scrollbar\">\n        <!--左侧组件列表-->\n        <div class=\"components-list\">\n          <div class=\"components-title\">\n            常用组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"formItems\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @start=\"onStart\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in formItems\" :key=\"index\" class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n               <icon :code=\"element.icon\" :text=\"element.name\"/>\n              </div>\n            </div>\n          </draggable>\n        </div>\n      </el-scrollbar>\n    </div>\n    <designer ref=\"designer\" :list=\"designList\" @clear=\"designList = []\" :activeData=\"activeData\"/>\n  </div>\n</template>\n<script>\n/**\n * 1.0版本\n */\nimport draggable from \"vuedraggable\";\nimport formItems from \"./custom/itemList\";\nimport Designer from \"./Designer\";\nimport Icon from \"./icon\";\nimport {getSimpleId} from \"./utils/IdGenerate\";\n\nlet tempActiveData;\n\nexport default {\n  name:\"fancyFormDesigner\",\n  components:{\n    draggable\n    ,Designer,\n    Icon\n  },\n  data() {\n    return {\n      formItems:formItems,\n      designList:[],\n      activeData:{}\n    }\n  },\n  mounted() {\n    \n  },\n  methods: {\n    addComponent(element){\n\n    },\n    cloneComponent(origin){\n      const clone = JSON.parse(JSON.stringify(origin))\n      if (!clone.layout) clone.layout = 'colItem'\n      if (clone.layout === 'colItem') {\n        let uId = \"fd_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }else if(clone.layout === 'rowItem'){\n        let uId = \"row_\"+getSimpleId();\n        clone.id = uId;\n        tempActiveData = clone;\n      }\n      this.$refs.designer.activeItem = tempActiveData;\n      console.log(this.$refs.designer.activeItem)\n    },\n    onStart(obj){\n      \n    },\n    onEnd(obj){\n      if(obj.from !== obj.to){\n        this.activeData = tempActiveData;\n        this.$refs.designer.activeItem = this.activeData;\n        if(obj.to.className.indexOf('row-drag')<0){\n          this.designList.splice(obj.newIndex,0,this.activeData);\n        }\n      }else{\n        this.$refs.designer.activeItem = undefined;\n      }\n      \n    }\n  }\n}\n\n</script>\n<style scoped>\n@import \"./style/designer.css\";\n.container{\n  padding:0px\n}\n</style>"]}]}