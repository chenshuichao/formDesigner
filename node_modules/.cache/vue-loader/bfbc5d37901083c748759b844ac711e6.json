{"remainingRequest":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wison/dev/workspace1/front-end/formDesigner/src/components/preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wison/dev/workspace1/front-end/formDesigner/src/components/preview.vue","mtime":1587901595557},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":1587901594804},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js","mtime":1587901594787},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":1587901594804},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js","mtime":1587901595491}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBwcmV2aWV3SXRlbSBmcm9tICIuL3ByZXZpZXdJdGVtIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOidwcmV2aWV3JywKICBwcm9wczpbJ2l0ZW1MaXN0JywnZm9ybUNvbmYnXSwKICBjb21wb25lbnRzOnsKICAgIHByZXZpZXdJdGVtCiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGxpc3Q6IHRoaXMuaXRlbUxpc3QsCiAgICAgIGZvcm06ewoKICAgICAgfSwKICAgICAgcnVsZXM6ewogICAgICAgIAogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIGhhbmRsZXJJdGVtQ3JlYXRlKGtleSxvcmlnbil7CiAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sa2V5LG9yaWduKTsKICAgIH0sCiAgICBoYW5kbGVyR2V0VmFsdWUoKXsKICAgICAgCiAgICB9LAogICAgaGFuZGxlclN1YkZvcm0oKXsKICAgICAgdGhpcy4kcmVmc1t0aGlzLmZvcm1Db25mLmZvcm1Nb2RlbF0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmiJDlip8hJyk7CiAgICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgdGhpcy4kbmV4dFRpY2soKCk9PnsKICAgICAgdGhpcy5saXN0LmZvckVhY2godmFsID0+IHsKICAgICAgLy90aGlzLiRzZXQodGhpcy5mb3JtLHZhbC5pZCx2YWwudmFsdWUpOwogICAgICAKICAgICAgICBpZih2YWwucmVxdWlyZWQpewogICAgICAgICAgbGV0IGZpZWxkID0gdmFsLmlkOwogICAgICAgICAgY29uc3QgciA9IFsKICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiB2YWwubGFiZWwrJ+W/heWhqycsIHRyaWdnZXI6ICdibHVyJ30KICAgICAgICAgIF07CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5ydWxlcyx2YWwuaWQscik7CiAgICAgICAgfQogICAgICB9KQogICAgfSkKICAgIAogICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtKTsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucnVsZXMpOwogIH0sCiAgY29tcHV0ZWQ6ewogIH0KfQo="},{"version":3,"sources":["preview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"preview.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div >\n    <el-row  :gutter=\"formConf.gutter\">\n        <el-form\n            :rules=\"rules\"\n            :ref=\"formConf.formModel\"\n            :size=\"formConf.size\"\n            :model=\"form\"\n            :label-position=\"formConf.labelPosition\"\n            :disabled=\"formConf.disabled\"\n            :validate-on-rule-change=\"false\"\n            :label-width=\"formConf.labelWidth + 'px'\"\n          >\n            <preview-item \n              v-for=\"(element,index) in list\" \n              :key=\"index\" \n              :model=\"element\"\n              @itemCreate=\"handlerItemCreate\"\n              />\n          </el-form>\n      </el-row>\n      <center>\n        <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"handlerGetValue\">获得表单数据</el-button>\n              <el-button type=\"primary\" @click=\"handlerSubForm\">提交</el-button>\n        </span>\n      </center>\n  </div>\n</template>\n<script>\nimport previewItem from \"./previewItem\";\n\nexport default {\n  name:'preview',\n  props:['itemList','formConf'],\n  components:{\n    previewItem\n  },\n  data(){\n    return{\n      list: this.itemList,\n      form:{\n\n      },\n      rules:{\n        \n      }\n    }\n  },\n  methods:{\n    handlerItemCreate(key,orign){\n      this.$set(this.form,key,orign);\n    },\n    handlerGetValue(){\n      \n    },\n    handlerSubForm(){\n      this.$refs[this.formConf.formModel].validate((valid) => {\n          if (valid) {\n            this.$message.success('成功!');\n          }\n      });\n    }\n  },\n  mounted(){\n    this.$nextTick(()=>{\n      this.list.forEach(val => {\n      //this.$set(this.form,val.id,val.value);\n      \n        if(val.required){\n          let field = val.id;\n          const r = [\n            {required: true, message: val.label+'必填', trigger: 'blur'}\n          ];\n          this.$set(this.rules,val.id,r);\n        }\n      })\n    })\n    \n    // console.log(this.form);\n    // console.log(this.rules);\n  },\n  computed:{\n  }\n}\n</script>\n<style>\n.preview-board{\n  border: 1px dashed #ccc\n}\n</style>"]}]}