{"remainingRequest":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wison/dev/workspace1/front-end/formDesigner/src/views/index/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wison/dev/workspace1/front-end/formDesigner/src/views/index/Home.vue","mtime":1583739369431},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wison/dev/workspace1/front-end/formDesigner/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJwppbXBvcnQgeyBzYXZlQXMgfSBmcm9tICdmaWxlLXNhdmVyJwppbXBvcnQgYmVhdXRpZmllciBmcm9tICdiZWF1dGlmaWVyJwppbXBvcnQgQ2xpcGJvYXJkSlMgZnJvbSAnY2xpcGJvYXJkJwppbXBvcnQgcmVuZGVyIGZyb20gJ0AvY29tcG9uZW50cy9yZW5kZXInCmltcG9ydCBGb3JtRHJhd2VyIGZyb20gJy4vRm9ybURyYXdlcicKaW1wb3J0IFJpZ2h0UGFuZWwgZnJvbSAnLi9SaWdodFBhbmVsJwppbXBvcnQgewogIGlucHV0Q29tcG9uZW50cywgc2VsZWN0Q29tcG9uZW50cywgbGF5b3V0Q29tcG9uZW50cywgZm9ybUNvbmYKfSBmcm9tICdAL2NvbXBvbmVudHMvZ2VuZXJhdG9yL2NvbmZpZycKaW1wb3J0IHsKICBleHBvcnREZWZhdWx0LCBiZWF1dGlmaWVyQ29uZiwgaXNOdW1iZXJTdHIsIHRpdGxlQ2FzZQp9IGZyb20gJ0AvdXRpbHMvaW5kZXgnCmltcG9ydCB7CiAgbWFrZVVwSHRtbCwgdnVlVGVtcGxhdGUsIHZ1ZVNjcmlwdCwgY3NzU3R5bGUKfSBmcm9tICdAL2NvbXBvbmVudHMvZ2VuZXJhdG9yL2h0bWwnCmltcG9ydCB7IG1ha2VVcEpzIH0gZnJvbSAnQC9jb21wb25lbnRzL2dlbmVyYXRvci9qcycKaW1wb3J0IHsgbWFrZVVwQ3NzIH0gZnJvbSAnQC9jb21wb25lbnRzL2dlbmVyYXRvci9jc3MnCmltcG9ydCBkcmF3aW5nRGVmYWx1dCBmcm9tICdAL2NvbXBvbmVudHMvZ2VuZXJhdG9yL2RyYXdpbmdEZWZhbHV0JwppbXBvcnQgbG9nbyBmcm9tICdAL2Fzc2V0cy9sb2dvLnBuZycKaW1wb3J0IENvZGVUeXBlRGlhbG9nIGZyb20gJy4vQ29kZVR5cGVEaWFsb2cnCmltcG9ydCBEcmFnZ2FibGVJdGVtIGZyb20gJy4vRHJhZ2dhYmxlSXRlbScKaW1wb3J0IHsKICBnZXREcmF3aW5nTGlzdCwgc2F2ZURyYXdpbmdMaXN0LCBnZXRJZEdsb2JhbCwgc2F2ZUlkR2xvYmFsLCBnZXRGb3JtQ29uZgp9IGZyb20gJ0AvdXRpbHMvZGInCgpjb25zdCBlbXB0eUFjdGl2ZURhdGEgPSB7IHN0eWxlOiB7fSwgYXV0b3NpemU6IHt9IH0KbGV0IG9sZEFjdGl2ZUlkCmxldCB0ZW1wQWN0aXZlRGF0YQpjb25zdCBkcmF3aW5nTGlzdEluREIgPSBnZXREcmF3aW5nTGlzdCgpCgoKY29uc3QgZm9ybUNvbmZJbkRCID0gZ2V0Rm9ybUNvbmYoKSAvLyAgIOm7mOiupOeahOihqOWNlemFjee9rumhuQpjb25zdCBpZEdsb2JhbCA9IGdldElkR2xvYmFsKCkgLy8gICDlhajlsYBpZAoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZSwKICAgIHJlbmRlciwKICAgIEZvcm1EcmF3ZXIsCiAgICBSaWdodFBhbmVsLAogICAgQ29kZVR5cGVEaWFsb2csCiAgICBEcmFnZ2FibGVJdGVtCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9nbywKICAgICAgaWRHbG9iYWwsCiAgICAgIGZvcm1Db25mLAogICAgICBpbnB1dENvbXBvbmVudHMsCiAgICAgIHNlbGVjdENvbXBvbmVudHMsCiAgICAgIGxheW91dENvbXBvbmVudHMsCiAgICAgIGxhYmVsV2lkdGg6IDEwMCwKICAgICAgZHJhd2luZ0xpc3Q6IGRyYXdpbmdEZWZhbHV0LAogICAgICBkcmF3aW5nRGF0YToge30sCiAgICAgIGFjdGl2ZUlkOiBkcmF3aW5nRGVmYWx1dFswXS5mb3JtSWQsIC8vICDlvZPliY3ooqvpgInkuK3nmoTnu4Tku7ZpZAogICAgICBkcmF3ZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybURhdGE6IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZ2VuZXJhdGVDb25mOiBudWxsLAogICAgICBzaG93RmlsZU5hbWU6IGZhbHNlLCAvLyAgICDlr7zlh7rml7bmmK/lkKbmmL7npLrmlofku7blkI3np7AKICAgICAgYWN0aXZlRGF0YTogZHJhd2luZ0RlZmFsdXRbMF0gLy8gIOW9k+WJjeiiq+mAieS4reeahOe7hOS7tumFjee9rgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICB9LAogIHdhdGNoOiB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lcwogICAgJ2FjdGl2ZURhdGEubGFiZWwnOiBmdW5jdGlvbiAodmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMuYWN0aXZlRGF0YS5wbGFjZWhvbGRlciA9PT0gdW5kZWZpbmVkCiAgICAgICAgfHwgIXRoaXMuYWN0aXZlRGF0YS50YWcKICAgICAgICB8fCBvbGRBY3RpdmVJZCAhPT0gdGhpcy5hY3RpdmVJZAogICAgICApIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLmFjdGl2ZURhdGEucGxhY2Vob2xkZXIgPSB0aGlzLmFjdGl2ZURhdGEucGxhY2Vob2xkZXIucmVwbGFjZShvbGRWYWwsICcnKSArIHZhbAogICAgfSwKICAgIGFjdGl2ZUlkOiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgb2xkQWN0aXZlSWQgPSB2YWwKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgZHJhd2luZ0xpc3Q6IHsKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICBzYXZlRHJhd2luZ0xpc3QodmFsKQogICAgICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB0aGlzLmlkR2xvYmFsID0gMTAwCiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0sCiAgICBpZEdsb2JhbDogewogICAgICBoYW5kbGVyKHZhbCkgewogICAgICAgIHNhdmVJZEdsb2JhbCh2YWwpCiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGRyYXdpbmdMaXN0SW5EQikgJiYgZHJhd2luZ0xpc3RJbkRCLmxlbmd0aCA+IDApIHsKICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IGRyYXdpbmdMaXN0SW5EQgogICAgfSBlbHNlIHsKICAgICAgdGhpcy5kcmF3aW5nTGlzdCA9IGRyYXdpbmdEZWZhbHV0CiAgICB9CiAgICB0aGlzLmFjdGl2ZUZvcm1JdGVtKHRoaXMuZHJhd2luZ0xpc3RbMF0pCiAgICBpZiAoZm9ybUNvbmZJbkRCKSB7CiAgICAgIHRoaXMuZm9ybUNvbmYgPSBmb3JtQ29uZkluREIKICAgIH0KCiAgICBjb25zdCBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkSlMoJyNjb3B5Tm9kZScsIHsKICAgICAgdGV4dDogdHJpZ2dlciA9PiB7CiAgICAgICAgY29uc3QgY29kZVN0ciA9IHRoaXMuZ2VuZXJhdGVDb2RlKCkKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgbWVzc2FnZTogJ+S7o+eggeW3suWkjeWItuWIsOWJquWIh+adv++8jOWPr+eymOi0tOOAgicsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KQogICAgICAgIHJldHVybiBjb2RlU3RyCiAgICAgIH0KICAgIH0pCiAgICBjbGlwYm9hcmQub24oJ2Vycm9yJywgZSA9PiB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S7o+eggeWkjeWItuWksei0pScpCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgYWN0aXZlRm9ybUl0ZW0oZWxlbWVudCkgewogICAgICB0aGlzLmFjdGl2ZURhdGEgPSBlbGVtZW50CiAgICAgIHRoaXMuYWN0aXZlSWQgPSBlbGVtZW50LmZvcm1JZAogICAgfSwKICAgIG9uRW5kKG9iaiwgYSkgewogICAgICBpZiAob2JqLmZyb20gIT09IG9iai50bykgewogICAgICAgIHRoaXMuYWN0aXZlRGF0YSA9IHRlbXBBY3RpdmVEYXRhCiAgICAgICAgdGhpcy5hY3RpdmVJZCA9IHRoaXMuaWRHbG9iYWwKICAgICAgfQogICAgfSwKICAgIGFkZENvbXBvbmVudChpdGVtKSB7CiAgICAgIGNvbnN0IGNsb25lID0gdGhpcy5jbG9uZUNvbXBvbmVudChpdGVtKQogICAgICB0aGlzLmRyYXdpbmdMaXN0LnB1c2goY2xvbmUpCiAgICAgIHRoaXMuYWN0aXZlRm9ybUl0ZW0oY2xvbmUpCiAgICB9LAogICAgY2xvbmVDb21wb25lbnQob3JpZ2luKSB7CiAgICAgIGNvbnN0IGNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcmlnaW4pKQogICAgICBjbG9uZS5mb3JtSWQgPSArK3RoaXMuaWRHbG9iYWwKICAgICAgY2xvbmUuc3BhbiA9IGZvcm1Db25mLnNwYW4KICAgICAgY2xvbmUucmVuZGVyS2V5ID0gK25ldyBEYXRlKCkgLy8g5pS55Y+YcmVuZGVyS2V55ZCO5Y+v5Lul5a6e546w5by65Yi25pu05paw57uE5Lu2CiAgICAgIGlmICghY2xvbmUubGF5b3V0KSBjbG9uZS5sYXlvdXQgPSAnY29sRm9ybUl0ZW0nCiAgICAgIGlmIChjbG9uZS5sYXlvdXQgPT09ICdjb2xGb3JtSXRlbScpIHsKICAgICAgICBjbG9uZS52TW9kZWwgPSBgZmllbGQke3RoaXMuaWRHbG9iYWx9YAogICAgICAgIGNsb25lLnBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQgJiYgKGNsb25lLnBsYWNlaG9sZGVyICs9IGNsb25lLmxhYmVsKQogICAgICAgIHRlbXBBY3RpdmVEYXRhID0gY2xvbmUKICAgICAgfSBlbHNlIGlmIChjbG9uZS5sYXlvdXQgPT09ICdyb3dGb3JtSXRlbScpIHsKICAgICAgICBkZWxldGUgY2xvbmUubGFiZWwKICAgICAgICBjbG9uZS5jb21wb25lbnROYW1lID0gYHJvdyR7dGhpcy5pZEdsb2JhbH1gCiAgICAgICAgY2xvbmUuZ3V0dGVyID0gdGhpcy5mb3JtQ29uZi5ndXR0ZXIKICAgICAgICB0ZW1wQWN0aXZlRGF0YSA9IGNsb25lCiAgICAgIH0KICAgICAgcmV0dXJuIHRlbXBBY3RpdmVEYXRhCiAgICB9LAogICAgQXNzZW1ibGVGb3JtRGF0YSgpIHsKICAgICAgdGhpcy5mb3JtRGF0YSA9IHsKICAgICAgICBmaWVsZHM6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kcmF3aW5nTGlzdCkpLAogICAgICAgIC4uLnRoaXMuZm9ybUNvbmYKICAgICAgfQogICAgfSwKICAgIGdlbmVyYXRlKGRhdGEpIHsKICAgICAgY29uc3QgZnVuYyA9IHRoaXNbYGV4ZWMke3RpdGxlQ2FzZSh0aGlzLm9wZXJhdGlvblR5cGUpfWBdCiAgICAgIHRoaXMuZ2VuZXJhdGVDb25mID0gZGF0YQogICAgICBmdW5jICYmIGZ1bmMoZGF0YSkKICAgIH0sCiAgICBleGVjUnVuKGRhdGEpIHsKICAgICAgdGhpcy5Bc3NlbWJsZUZvcm1EYXRhKCkKICAgICAgdGhpcy5kcmF3ZXJWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGV4ZWNEb3dubG9hZChkYXRhKSB7CiAgICAgIGNvbnN0IGNvZGVTdHIgPSB0aGlzLmdlbmVyYXRlQ29kZSgpCiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY29kZVN0cl0sIHsgdHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCcgfSkKICAgICAgc2F2ZUFzKGJsb2IsIGRhdGEuZmlsZU5hbWUpCiAgICB9LAogICAgZXhlY0NvcHkoZGF0YSkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29weU5vZGUnKS5jbGljaygpCiAgICB9LAogICAgZW1wdHkoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuimgea4heepuuaJgOaciee7hOS7tuWQl++8nycsICfmj5DnpLonLCB7IHR5cGU6ICd3YXJuaW5nJyB9KS50aGVuKAogICAgICAgICgpID0+IHsKICAgICAgICAgIHRoaXMuZHJhd2luZ0xpc3QgPSBbXQogICAgICAgICAgdGhpcy5pZEdsb2JhbCA9IDEwMAogICAgICAgIH0KICAgICAgKQogICAgfSwKICAgIGRyYXdpbmdJdGVtQ29weShpdGVtLCBwYXJlbnQpIHsKICAgICAgbGV0IGNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtKSkKICAgICAgY2xvbmUgPSB0aGlzLmNyZWF0ZUlkQW5kS2V5KGNsb25lKQogICAgICBwYXJlbnQucHVzaChjbG9uZSkKICAgICAgdGhpcy5hY3RpdmVGb3JtSXRlbShjbG9uZSkKICAgIH0sCiAgICBjcmVhdGVJZEFuZEtleShpdGVtKSB7CiAgICAgIGl0ZW0uZm9ybUlkID0gKyt0aGlzLmlkR2xvYmFsCiAgICAgIGl0ZW0ucmVuZGVyS2V5ID0gK25ldyBEYXRlKCkKICAgICAgaWYgKGl0ZW0ubGF5b3V0ID09PSAnY29sRm9ybUl0ZW0nKSB7CiAgICAgICAgaXRlbS52TW9kZWwgPSBgZmllbGQke3RoaXMuaWRHbG9iYWx9YAogICAgICB9IGVsc2UgaWYgKGl0ZW0ubGF5b3V0ID09PSAncm93Rm9ybUl0ZW0nKSB7CiAgICAgICAgaXRlbS5jb21wb25lbnROYW1lID0gYHJvdyR7dGhpcy5pZEdsb2JhbH1gCiAgICAgIH0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5jaGlsZHJlbikpIHsKICAgICAgICBpdGVtLmNoaWxkcmVuID0gaXRlbS5jaGlsZHJlbi5tYXAoY2hpbGRJdGVtID0+IHRoaXMuY3JlYXRlSWRBbmRLZXkoY2hpbGRJdGVtKSkKICAgICAgfQogICAgICByZXR1cm4gaXRlbQogICAgfSwKICAgIGRyYXdpbmdJdGVtRGVsZXRlKGluZGV4LCBwYXJlbnQpIHsKICAgICAgcGFyZW50LnNwbGljZShpbmRleCwgMSkKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuZHJhd2luZ0xpc3QubGVuZ3RoCiAgICAgICAgaWYgKGxlbikgewogICAgICAgICAgdGhpcy5hY3RpdmVGb3JtSXRlbSh0aGlzLmRyYXdpbmdMaXN0W2xlbiAtIDFdKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBnZW5lcmF0ZUNvZGUoKSB7CiAgICAgIGNvbnN0IHsgdHlwZSB9ID0gdGhpcy5nZW5lcmF0ZUNvbmYKICAgICAgdGhpcy5Bc3NlbWJsZUZvcm1EYXRhKCkKICAgICAgY29uc3Qgc2NyaXB0ID0gdnVlU2NyaXB0KG1ha2VVcEpzKHRoaXMuZm9ybURhdGEsIHR5cGUpKQogICAgICBjb25zdCBodG1sID0gdnVlVGVtcGxhdGUobWFrZVVwSHRtbCh0aGlzLmZvcm1EYXRhLCB0eXBlKSkKICAgICAgY29uc3QgY3NzID0gY3NzU3R5bGUobWFrZVVwQ3NzKHRoaXMuZm9ybURhdGEpKQogICAgICByZXR1cm4gYmVhdXRpZmllci5odG1sKGh0bWwgKyBzY3JpcHQgKyBjc3MsIGJlYXV0aWZpZXJDb25mLmh0bWwpCiAgICB9LAogICAgZG93bmxvYWQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy5zaG93RmlsZU5hbWUgPSB0cnVlCiAgICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9ICdkb3dubG9hZCcKICAgIH0sCiAgICBydW4oKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy5zaG93RmlsZU5hbWUgPSBmYWxzZQogICAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSAncnVuJwogICAgfSwKICAgIGNvcHkoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy5zaG93RmlsZU5hbWUgPSBmYWxzZQogICAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSAnY29weScKICAgIH0sCiAgICB0YWdDaGFuZ2UobmV3VGFnKSB7CiAgICAgIG5ld1RhZyA9IHRoaXMuY2xvbmVDb21wb25lbnQobmV3VGFnKQogICAgICBuZXdUYWcudk1vZGVsID0gdGhpcy5hY3RpdmVEYXRhLnZNb2RlbAogICAgICBuZXdUYWcuZm9ybUlkID0gdGhpcy5hY3RpdmVJZAogICAgICBuZXdUYWcuc3BhbiA9IHRoaXMuYWN0aXZlRGF0YS5zcGFuCiAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZURhdGEudGFnCiAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZURhdGEudGFnSWNvbgogICAgICBkZWxldGUgdGhpcy5hY3RpdmVEYXRhLmRvY3VtZW50CiAgICAgIE9iamVjdC5rZXlzKG5ld1RhZykuZm9yRWFjaChrZXkgPT4gewogICAgICAgIGlmICh0aGlzLmFjdGl2ZURhdGFba2V5XSAhPT0gdW5kZWZpbmVkCiAgICAgICAgICAmJiB0eXBlb2YgdGhpcy5hY3RpdmVEYXRhW2tleV0gPT09IHR5cGVvZiBuZXdUYWdba2V5XSkgewogICAgICAgICAgbmV3VGFnW2tleV0gPSB0aGlzLmFjdGl2ZURhdGFba2V5XQogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5hY3RpdmVEYXRhID0gbmV3VGFnCiAgICAgIHRoaXMudXBkYXRlRHJhd2luZ0xpc3QobmV3VGFnLCB0aGlzLmRyYXdpbmdMaXN0KQogICAgfSwKICAgIHVwZGF0ZURyYXdpbmdMaXN0KG5ld1RhZywgbGlzdCkgewogICAgICBjb25zdCBpbmRleCA9IGxpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5mb3JtSWQgPT09IHRoaXMuYWN0aXZlSWQpCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEsIG5ld1RhZykKICAgICAgfSBlbHNlIHsKICAgICAgICBsaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmNoaWxkcmVuKSkgdGhpcy51cGRhdGVEcmF3aW5nTGlzdChuZXdUYWcsIGl0ZW0uY2hpbGRyZW4pCiAgICAgICAgfSkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/index","sourcesContent":["<!--主页面-->\n<template>\n  <div class=\"container\">\n    <div class=\"left-board\">\n      <div class=\"logo-wrapper\">\n        <div class=\"logo\">\n          <img :src=\"logo\" alt=\"logo\"> Form Generator\n        </div>\n      </div>\n      <el-scrollbar class=\"left-scrollbar\">\n        <!--左侧组件列表-->\n        <div class=\"components-list\">\n          <div class=\"components-title\">\n            <svg-icon icon-class=\"component\" />输入型组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"inputComponents\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in inputComponents\" :key=\"index\" class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                <svg-icon :icon-class=\"element.tagIcon\" />\n                {{ element.label }}\n              </div>\n            </div>\n          </draggable>\n          <div class=\"components-title\">\n            <svg-icon icon-class=\"component\" />选择型组件\n          </div>\n          <draggable\n            class=\"components-draggable\"\n            :list=\"selectComponents\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\"\n            :clone=\"cloneComponent\"\n            draggable=\".components-item\"\n            :sort=\"false\"\n            @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in selectComponents\"\n              :key=\"index\"\n              class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                <svg-icon :icon-class=\"element.tagIcon\" />\n                {{ element.label }}\n              </div>\n            </div>\n          </draggable>\n          <div class=\"components-title\">\n            <svg-icon icon-class=\"component\" /> 布局型组件\n          </div>\n          <draggable\n            class=\"components-draggable\" :list=\"layoutComponents\"\n            :group=\"{ name: 'componentsGroup', pull: 'clone', put: false }\" :clone=\"cloneComponent\"\n            draggable=\".components-item\" :sort=\"false\" @end=\"onEnd\"\n          >\n            <div\n              v-for=\"(element, index) in layoutComponents\" :key=\"index\" class=\"components-item\"\n              @click=\"addComponent(element)\"\n            >\n              <div class=\"components-body\">\n                <svg-icon :icon-class=\"element.tagIcon\" />\n                {{ element.label }}\n              </div>\n            </div>\n          </draggable>\n        </div>\n      </el-scrollbar>\n    </div>\n    <!--  左侧组件列表 end  -->\n    <!--中间面板-->\n    <div class=\"center-board\">\n      <div class=\"action-bar\">\n        <el-button icon=\"el-icon-video-play\" type=\"text\" @click=\"run\">\n          运行\n        </el-button>\n        <el-button icon=\"el-icon-download\" type=\"text\" @click=\"download\">\n          导出vue文件\n        </el-button>\n        <el-button class=\"copy-btn-main\" icon=\"el-icon-document-copy\" type=\"text\" @click=\"copy\">\n          复制代码\n        </el-button>\n        <el-button class=\"delete-btn\" icon=\"el-icon-delete\" type=\"text\" @click=\"empty\">\n          清空\n        </el-button>\n      </div>\n      <el-scrollbar class=\"center-scrollbar\">\n        <el-row class=\"center-board-row\" :gutter=\"formConf.gutter\">\n          <el-form\n            :size=\"formConf.size\"\n            :label-position=\"formConf.labelPosition\"\n            :disabled=\"formConf.disabled\"\n            :label-width=\"formConf.labelWidth + 'px'\"\n          >\n            <draggable class=\"drawing-board\" :list=\"drawingList\" :animation=\"340\" group=\"componentsGroup\">\n              <draggable-item\n                v-for=\"(element, index) in drawingList\"\n                :key=\"element.renderKey\"\n                :drawing-list=\"drawingList\"\n                :element=\"element\"\n                :index=\"index\"\n                :active-id=\"activeId\"\n                :form-conf=\"formConf\"\n                @activeItem=\"activeFormItem\"\n                @copyItem=\"drawingItemCopy\"\n                @deleteItem=\"drawingItemDelete\"\n              />\n            </draggable>\n            <div v-show=\"!drawingList.length\" class=\"empty-info\">\n              从左侧拖入或点选组件进行表单设计\n            </div>\n          </el-form>\n        </el-row>\n      </el-scrollbar>\n    </div>\n    <!--中间面板-->\n    <right-panel\n      :active-data=\"activeData\"\n      :form-conf=\"formConf\"\n      :show-field=\"!!drawingList.length\"\n      @tag-change=\"tagChange\"\n    />\n\n    <form-drawer\n      :visible.sync=\"drawerVisible\"\n      :form-data=\"formData\"\n      size=\"100%\"\n      :generate-conf=\"generateConf\"\n    />\n    <code-type-dialog\n      :visible.sync=\"dialogVisible\"\n      title=\"选择生成类型\"\n      :show-file-name=\"showFileName\"\n      @confirm=\"generate\"\n    />\n    <input id=\"copyNode\" type=\"hidden\">\n  </div>\n</template>\n\n<script>\nimport draggable from 'vuedraggable'\nimport { saveAs } from 'file-saver'\nimport beautifier from 'beautifier'\nimport ClipboardJS from 'clipboard'\nimport render from '@/components/render'\nimport FormDrawer from './FormDrawer'\nimport RightPanel from './RightPanel'\nimport {\n  inputComponents, selectComponents, layoutComponents, formConf\n} from '@/components/generator/config'\nimport {\n  exportDefault, beautifierConf, isNumberStr, titleCase\n} from '@/utils/index'\nimport {\n  makeUpHtml, vueTemplate, vueScript, cssStyle\n} from '@/components/generator/html'\nimport { makeUpJs } from '@/components/generator/js'\nimport { makeUpCss } from '@/components/generator/css'\nimport drawingDefalut from '@/components/generator/drawingDefalut'\nimport logo from '@/assets/logo.png'\nimport CodeTypeDialog from './CodeTypeDialog'\nimport DraggableItem from './DraggableItem'\nimport {\n  getDrawingList, saveDrawingList, getIdGlobal, saveIdGlobal, getFormConf\n} from '@/utils/db'\n\nconst emptyActiveData = { style: {}, autosize: {} }\nlet oldActiveId\nlet tempActiveData\nconst drawingListInDB = getDrawingList()\n\n\nconst formConfInDB = getFormConf() //   默认的表单配置项\nconst idGlobal = getIdGlobal() //   全局id\n\nexport default {\n  components: {\n    draggable,\n    render,\n    FormDrawer,\n    RightPanel,\n    CodeTypeDialog,\n    DraggableItem\n  },\n  data() {\n    return {\n      logo,\n      idGlobal,\n      formConf,\n      inputComponents,\n      selectComponents,\n      layoutComponents,\n      labelWidth: 100,\n      drawingList: drawingDefalut,\n      drawingData: {},\n      activeId: drawingDefalut[0].formId, //  当前被选中的组件id\n      drawerVisible: false,\n      formData: {},\n      dialogVisible: false,\n      generateConf: null,\n      showFileName: false, //    导出时是否显示文件名称\n      activeData: drawingDefalut[0] //  当前被选中的组件配置\n    }\n  },\n  computed: {\n  },\n  watch: {\n    // eslint-disable-next-line func-names\n    'activeData.label': function (val, oldVal) {\n      if (\n        this.activeData.placeholder === undefined\n        || !this.activeData.tag\n        || oldActiveId !== this.activeId\n      ) {\n        return\n      }\n      this.activeData.placeholder = this.activeData.placeholder.replace(oldVal, '') + val\n    },\n    activeId: {\n      handler(val) {\n        oldActiveId = val\n      },\n      immediate: true\n    },\n    drawingList: {\n      handler(val) {\n        saveDrawingList(val)\n        if (val.length === 0) this.idGlobal = 100\n      },\n      deep: true\n    },\n    idGlobal: {\n      handler(val) {\n        saveIdGlobal(val)\n      },\n      immediate: true\n    }\n  },\n  mounted() {\n    if (Array.isArray(drawingListInDB) && drawingListInDB.length > 0) {\n      this.drawingList = drawingListInDB\n    } else {\n      this.drawingList = drawingDefalut\n    }\n    this.activeFormItem(this.drawingList[0])\n    if (formConfInDB) {\n      this.formConf = formConfInDB\n    }\n\n    const clipboard = new ClipboardJS('#copyNode', {\n      text: trigger => {\n        const codeStr = this.generateCode()\n        this.$notify({\n          title: '成功',\n          message: '代码已复制到剪切板，可粘贴。',\n          type: 'success'\n        })\n        return codeStr\n      }\n    })\n    clipboard.on('error', e => {\n      this.$message.error('代码复制失败')\n    })\n  },\n  methods: {\n    activeFormItem(element) {\n      this.activeData = element\n      this.activeId = element.formId\n    },\n    onEnd(obj, a) {\n      if (obj.from !== obj.to) {\n        this.activeData = tempActiveData\n        this.activeId = this.idGlobal\n      }\n    },\n    addComponent(item) {\n      const clone = this.cloneComponent(item)\n      this.drawingList.push(clone)\n      this.activeFormItem(clone)\n    },\n    cloneComponent(origin) {\n      const clone = JSON.parse(JSON.stringify(origin))\n      clone.formId = ++this.idGlobal\n      clone.span = formConf.span\n      clone.renderKey = +new Date() // 改变renderKey后可以实现强制更新组件\n      if (!clone.layout) clone.layout = 'colFormItem'\n      if (clone.layout === 'colFormItem') {\n        clone.vModel = `field${this.idGlobal}`\n        clone.placeholder !== undefined && (clone.placeholder += clone.label)\n        tempActiveData = clone\n      } else if (clone.layout === 'rowFormItem') {\n        delete clone.label\n        clone.componentName = `row${this.idGlobal}`\n        clone.gutter = this.formConf.gutter\n        tempActiveData = clone\n      }\n      return tempActiveData\n    },\n    AssembleFormData() {\n      this.formData = {\n        fields: JSON.parse(JSON.stringify(this.drawingList)),\n        ...this.formConf\n      }\n    },\n    generate(data) {\n      const func = this[`exec${titleCase(this.operationType)}`]\n      this.generateConf = data\n      func && func(data)\n    },\n    execRun(data) {\n      this.AssembleFormData()\n      this.drawerVisible = true\n    },\n    execDownload(data) {\n      const codeStr = this.generateCode()\n      const blob = new Blob([codeStr], { type: 'text/plain;charset=utf-8' })\n      saveAs(blob, data.fileName)\n    },\n    execCopy(data) {\n      document.getElementById('copyNode').click()\n    },\n    empty() {\n      this.$confirm('确定要清空所有组件吗？', '提示', { type: 'warning' }).then(\n        () => {\n          this.drawingList = []\n          this.idGlobal = 100\n        }\n      )\n    },\n    drawingItemCopy(item, parent) {\n      let clone = JSON.parse(JSON.stringify(item))\n      clone = this.createIdAndKey(clone)\n      parent.push(clone)\n      this.activeFormItem(clone)\n    },\n    createIdAndKey(item) {\n      item.formId = ++this.idGlobal\n      item.renderKey = +new Date()\n      if (item.layout === 'colFormItem') {\n        item.vModel = `field${this.idGlobal}`\n      } else if (item.layout === 'rowFormItem') {\n        item.componentName = `row${this.idGlobal}`\n      }\n      if (Array.isArray(item.children)) {\n        item.children = item.children.map(childItem => this.createIdAndKey(childItem))\n      }\n      return item\n    },\n    drawingItemDelete(index, parent) {\n      parent.splice(index, 1)\n      this.$nextTick(() => {\n        const len = this.drawingList.length\n        if (len) {\n          this.activeFormItem(this.drawingList[len - 1])\n        }\n      })\n    },\n    generateCode() {\n      const { type } = this.generateConf\n      this.AssembleFormData()\n      const script = vueScript(makeUpJs(this.formData, type))\n      const html = vueTemplate(makeUpHtml(this.formData, type))\n      const css = cssStyle(makeUpCss(this.formData))\n      return beautifier.html(html + script + css, beautifierConf.html)\n    },\n    download() {\n      this.dialogVisible = true\n      this.showFileName = true\n      this.operationType = 'download'\n    },\n    run() {\n      this.dialogVisible = true\n      this.showFileName = false\n      this.operationType = 'run'\n    },\n    copy() {\n      this.dialogVisible = true\n      this.showFileName = false\n      this.operationType = 'copy'\n    },\n    tagChange(newTag) {\n      newTag = this.cloneComponent(newTag)\n      newTag.vModel = this.activeData.vModel\n      newTag.formId = this.activeId\n      newTag.span = this.activeData.span\n      delete this.activeData.tag\n      delete this.activeData.tagIcon\n      delete this.activeData.document\n      Object.keys(newTag).forEach(key => {\n        if (this.activeData[key] !== undefined\n          && typeof this.activeData[key] === typeof newTag[key]) {\n          newTag[key] = this.activeData[key]\n        }\n      })\n      this.activeData = newTag\n      this.updateDrawingList(newTag, this.drawingList)\n    },\n    updateDrawingList(newTag, list) {\n      const index = list.findIndex(item => item.formId === this.activeId)\n      if (index > -1) {\n        list.splice(index, 1, newTag)\n      } else {\n        list.forEach(item => {\n          if (Array.isArray(item.children)) this.updateDrawingList(newTag, item.children)\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang='scss'>\n@import '@/styles/home';\n</style>\n"]}]}